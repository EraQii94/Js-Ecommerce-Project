<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-5">
  <h2 class="text-center mb-4">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>

  <!-- Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ -->
  <div class="mb-3">
    <a href="dashboard.html" class="btn btn-secondary">â¬… Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</a>
  </div>

  <!-- ÙÙˆØ±Ù… Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ -->
  <div class="card shadow-sm mb-4">
    <div class="card-body">
      <h5 class="card-title">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯ (Ù…Ø­Ù„ÙŠ)</h5>
      <form id="addProductForm" class="row g-3">
        <div class="col-md-4">
          <input type="text" id="productName" class="form-control" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬" required>
        </div>
        <div class="col-md-4">
          <input type="number" id="productPrice" class="form-control" placeholder="Ø§Ù„Ø³Ø¹Ø±" required>
        </div>
        <div class="col-md-4">
          <input type="text" id="productImage" class="form-control" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©">
        </div>
        <div class="col-12">
          <button type="submit" class="btn btn-success">â• Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Ø¬Ø¯ÙˆÙ„ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
  <div class="card shadow-sm">
    <div class="card-body">
      <h5 class="card-title">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h5>
      <table class="table table-bordered table-hover">
        <thead class="table-dark">
          <tr>
            <th>Ø§Ù„ØµÙˆØ±Ø©</th>
            <th>Ø§Ù„Ø§Ø³Ù…</th>
            <th>Ø§Ù„Ø³Ø¹Ø±</th>
          </tr>
        </thead>
        <tbody id="productsTableBody">
          <tr><td colspan="3" class="text-center">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª...</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<script>
// ğŸŸ¢ Ø³Ø­Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø§Ù„Ù€ API
async function loadProducts() {
  try {
    const res = await fetch("https://fakestoreapi.com/products"); // ğŸ”„ Ù…Ø«Ø§Ù„: Fake Store API
    const products = await res.json();
    renderProducts(products);
  } catch (err) {
    console.error("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:", err);
    document.getElementById("productsTableBody").innerHTML = "<tr><td colspan='3' class='text-center text-danger'>ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</td></tr>";
  }
}

// ğŸŸ¢ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„
function renderProducts(products) {
  const tbody = document.getElementById("productsTableBody");
  tbody.innerHTML = "";

  products.forEach(p => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td><img src="${p.image}" alt="${p.title}" width="50"></td>
      <td>${p.title}</td>
      <td>${p.price} $</td>
    `;
    tbody.appendChild(tr);
  });
}

// ğŸŸ¢ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ù…Ø­Ù„ÙŠ Ù„Ù„Ø¬Ø¯ÙˆÙ„
document.getElementById("addProductForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const name = document.getElementById("productName").value;
  const price = document.getElementById("productPrice").value;
  const image = document.getElementById("productImage").value || "https://via.placeholder.com/50";

  const tbody = document.getElementById("productsTableBody");

  const tr = document.createElement("tr");
  tr.innerHTML = `
    <td><img src="${image}" alt="${name}" width="50"></td>
    <td>${name}</td>
    <td>${price} $</td>
  `;
  tbody.appendChild(tr);

  this.reset();
});

// ØªØ´ØºÙŠÙ„
loadProducts();
</script>

</body>
</html>
